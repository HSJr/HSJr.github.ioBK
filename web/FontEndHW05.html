<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>全國休閒農業區旅遊資訊</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <style>              
        .info {
            overflow:hidden;
            text-overflow:ellipsis;
            display:-webkit-box;
            -webkit-line-clamp:4;
            -webkit-box-orient:vertical;
            margin:10px;
        }

    </style>
</head>
<body>
    <div class="text-center  bg-info text-white p-3">
        <h1>全國休閒農業區旅遊資訊</h1>
    </div>
    <div class="container  " id="container">
        <div class="row justify-content-center" id="DataCard">

        </div>
    </div>

    <script src="Scripts/jquery-3.6.0.min.js"></script>
    <script src="Scripts/bootstrap.bundle.min.js"></script>    
    <script>
        var item = "";
        $.ajax({
            type: 'get',
            url: 'https://data.coa.gov.tw/Service/OpenData/ODwsv/ODwsvAttractions.aspx',
            success: function (data) {
                for (var i = 0; i < data.length; i++) {
                    item += `                        
                            <div class="shadow p-2 m-3  card " style="width:20rem;">
                                <img class="p-1 mt-3 img-thumbnail" src=${data[i].Photo} alt="Alternate Text" />
                                <h4 class="text-center mt-2 text-secondary"><strong>${data[i].Name}</strong></h4>
                                <p class="text-right text-secondary">
                                    <a href="https://www.google.com/maps/search/${data[i].Name}" target='_blank'><i class="bi bi-geo-alt"></i></a>${data[i].City} ${data[i].Town}
                                </p>
                                <div class=" mb-2 w-100 h-75 ">
                                    <p id=" info1" class="info p-1  text-secondary" style="text-indent:2em;">${data[i].Introduction}</p>
                                </div>
                                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal${i}">詳細資料</button>
                            </div>


                            <div class="shadow modal fade" id="exampleModal${i}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog  modal-dialog-scrollable">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h2 class=" modal-title text-info text-left" id="exampleModalLabel">${data[i].Name}</h2>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div>
                                            <img class="p-3 img-thumbnail " src=${data[i].Photo} alt="Alternate Text" />
                                            <h4 class="text-info text-center pt-3">景點介紹</h4>
                                        </div>
                                        <div class="border-top border-bottom border-info rounded modal-body p-3">
                                            <p id="info1" class=" p-3 text-secondary" style="text-indent:2em;">${data[i].Introduction}</p>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-info" data-dismiss="modal">關閉</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        
                        `
                }
                $("#DataCard").append(item);
            },
            error: function () {

            }
        });
    </script>
</body>
</html>